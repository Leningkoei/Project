# CN

## 常数

* 以太网最短帧 === 64byte === 512b
* 前同步码 + 帧定界符 === 8byte === 7byte + 1byte
* IP数据报的长度必须是64bit的整数倍
* UDP用户数据报最大长度 === 1500byte
* UDP偏移字段的值 === 前1段报文 / 8

## 概述

* 电路交换, 报文交换, 分组交换
    * 电路交换
        * [x] 可靠, 迅速, 数据不会丢失且保持原来的序列
        * [ ]
            * 电路空闲时信道浪费
            * 建立拆除电路开销大
    * 报文交换
        * [x] 存储转发技术, 线路使用率高
        * [ ]
            * 不能满足实时或交互式通信要求
            * 报文经过网络的延迟时间长且不定
    * 分组交换
        * [x]
            * 动态分配带宽, 对网络逐段占用, 提高线路使用效率
            * 每个分组包含目的地址, 分组独立选择路由, 结点之间数据交换比较灵活
            * 压缩结点所需的存储容量, 缩短了网络延时
            * 减少差错的产生, 提高传输的可靠性
        * [ ]
            * 各结点存储转发时需要排队
            * 分组必须携带的控制信息开销大

* 计算机网络中的主干网和本地接入网的主要区别是什么
    * 主干网
        * 设施共享
        * 高度综合集成
        * 可应付高密度的业务量需求
        * 技术演进迅速, 以软件为主
        * 成本逐渐下降
    * 本地接入网
        * 用于把用户接入因特网的网络, 其既不属于因特网的核心部分, 也不属于因特网的边缘部分
        * 设施专用, 分散独立
        * 业务种类较多, 业务密度低
        * 线路施工难度大, 设备运行环境恶劣
        * 使用率低
        * 技术演进迟缓, 以硬件为主
        * 网径大小不一, 成本与用户有关

* 协议服务区别联系
    * 区别
        * 协议
            * 水平, 对等实体之间
        * 服务
            * 垂直, 下层 -层间接口> 上层
            * 能被高1层看见的功能
    * 联系
        * 在协议的控制下, 2个对等实体之间的通信使得本层能够向上1层提供服务
        * 要实现本层的协议, 需要下1层所提供的服务
        * 只要不改变提供给用户的服务, 实体可以任意地改变它们的协议

* 5层协议
    * 应用层: 直接为用户应用进程提供服务
    * 运输层: 提供2个主机中进程之间的通信服务
    * 网络层
        * 将分组从源站交付到目的站
        * 为分组交换网上的不同主机提供通信服务
    * 数据链路层
        * 将网络层交下来的IP数据报组装成帧
        * 在相邻2个结点间的链路上透明地传输帧中的数据
        * 收到帧后提取出数据部分递交给网络层
        * 将原始的物理连接转换成无差错的数据链路
    * 协调在物理媒体中传送bite流所需要的各种功能

## 物理层

* 物理层要解决那些问题, 物理层的主要特点是什么
    * 问题
        * 尽可能屏蔽掉物理设备, 传输媒体设备, 通信手段的差异
        * 怎样在连接各种计算机的硬件设备上传输数据bite流
        * 确定与传输媒体的接口有关的一些特性: 机械特性, 电气特性, 功能特性, 过程特性
    * 特点
        * 沿用已经存在的物理规程, 将物理层确定为描述与传输媒体接口的机械电气功能过程特性
        * 物理连接的方式很多, 传输媒体的种类很多, 具体的物理协议很复杂

* 名词解释
    * 数据: 运送消息的实体
    * 数字数据: 取值为不连续数值的数据
    * 模拟数据: 取值为连续数值的数据
    * 信号: 数据的电气的或电磁的表现
    * 基带信号: 来自信源的信号
    * 数字信号: 或离散信号, 代表消息参数的取值是离散的
    * 带通信号: 经过载波调制后的信号
    * 码元: 在时域的波形表示数字信号时, 代表不同离散数值的基本波形
    * 单工通信, 半双工通信, 双工通信
    * 串行传输, 并行传输

* 接口特性
    * 机械特性: 接口所用接线器的接口参数
    * 电气特性: 接口电缆的各条线上的电压范围
    * 功能特性: 某条线上出现的某1电平的电压表示什么意义
    * 过程特性: 对于不同功能的各种可能事件的出现顺序

* 数据在信道中的传输速率受到哪些因素的限制, 信噪比能否任意提高, 香农公式在数据通信中的意义是什么, bite/s和码元/s有什么区别?

    * 限制: 带宽和信噪比, 根据香农公式: 信道的极限传输速率 = $ 带宽 \log{1 + 信噪比} $可知
    * 能否
        * 理论上: 可以
        * 实际上: 不行
            * 受限于系统发射功率, 信号功率不可能无限大
            * 系统有一定的噪声基底, 噪声功率不可能无穷小
    * 意义: 只要信息传输速率低于信道的极限信息传输速率就一定可以找到某种办法来实现无差错的传输
    * 区别
        * bite/s: 信息的传输速率
        * 码元/s: 码元的传输速率
        * bite率 === 码元速率 * log1个码元对应的数据信号电平的数量

* 常用的传输媒体有哪几种, 各有什么特点?
    * 双绞线
        * 屏蔽双绞线, 非屏蔽双绞线
        * 模拟传输和数字传输
        * 价格便宜, 性能好, 使用广泛
    * 同轴电缆
        * 用于传输较高速率的数据
        * 带宽接近1GHz
    * 光缆
        * 带宽 >> 其他媒体
        * 通信容量大
        * 损耗小, 中继距离长, 适合远距离传输
        * 抗雷电电磁干扰性好, 无串音干扰
        * 保密性好
        * 体积小, 质量轻, 细
        * 安装不容易, 光电接口贵
    * 非导向传输媒体
        * 地面短波接力通信: 通信质量差, 危险微波通信不能直视
        * 卫星通信: 距离远, 费用与距离无关, 时延大, 技术复杂, 价格较贵

* 为什么要使用信道复用技术, 常用的信道复用技术有哪些?
    * 为了提高系统容量和效率
    * 频分复用
        * 将信道总带宽划分为若干个子频带
        * 子信道以并行方式工作
    * 时分复用
        * 划分时间片给每个信号源使用
        * 时间片分配固定便于调节控制, 适合数字信号
        * 空闲时间片无法占用, 降低利用率
    * 波分复用
        * 将1根光纤转换为多跟虚拟光纤, 每条光纤独立工作在不同的波长上, 提高光纤传输容量
    * 码分复用
        * 按不同编码区分各路原始信号
        * 用户之间不会干扰

## 数据链路层

* PPP协议的工作状态有哪几种? 当用户要使用PPP协议和ISP建立连接进行通信需要建立哪几种连接? 每1种连接解决什么问题?
    * 工作状态: 链路静止状态, 链路建立状态, 鉴别状态, 网络层协议状态, 链路打开状态, 链路终止状态
    * 连接: 无链路 -> 物理链路 -> LCP链路 -> 已鉴别的LCP链路 -> 已鉴别的LCP链路和NCP链路

* 局域网主要特点, 为什么采用广播通信而广域网不采用
    * 主要特点
        * 网络为1个单位所有
        * 地理范围, 站点数目有限
        * 共享传输信道, 传输速率高, 近距离传输, 误码率低, 多采用分布式控制和广播式通信
    * 局域网采用: 局域网中所有机器都连接到同1条物理线路, 共享传输信号, 主机将要发送的数据送到公用链路上, 然后发送至所有主机, 接收端通过地址对比, 接收发往自己的数据, 并丢弃其他数据
    * 广域网不采用
        * 主机间发送数据时, 将会肚子占用通信链路, 降低网络的使用率
        * 当主机数目非常多时, 广播通信将严重消耗主机的处理能力, 造成数据的无效流动
        * 容易产生网络风暴

* 常用的局域网网络拓扑结构, 为什么早期以太网使用总线形不适用星形
    * 常用: 星形, 环形, 总线形
    * 原因
        * 早期人们认为无源的总线形更加可靠, 但实际上大量站点连接后容易出故障
        * ASIC芯片将星形结构的集线器做的非常可靠

* 以太网交换机有什么特点, 怎样用以太网交换机组成虚拟局域网
    * 特点
        * 通常都有10+个端口, 实质上是多接口的网桥, 和工作在物理层的转发器和集线器都有很大的差别
        * 每个接口都直接与1个主机或另1个集线器相连, 全双工
        * 主机需要通信时, 交换机能同时接通许多对的接口, 使每1对相互通信的主机都能像独占通信媒体那样, 无碰撞地传输数据, 当2个站通信完成后就断开连接
        * 即插即用, 帧转发表通过自学习算法建立
        * 使用了专用的交换结构芯片, 交换速率高
        * 具有多种速率的接口, 方便不同情况的用户
        * 有的存储转发, 有的直通, 提高了帧的转发速度
    * 组网
        * 按照端口划分VLAN
        * 不同交换机上的若干接口可以组成同1个VLAN, 分配到同1个VLAN的各网段上的所有站点都在同1个广播域中, 可以直接通信

## 网络层

* IP地址分几类, 各如何表示, IP地址的主要特点是什么
    * 分类
        * A: 单播, 网络号1byte, 主机号3byte,   0, 网络 7bit - 2, 主机24bit - 2
        * B: 单播, 网络号2byte, 主机号2byte,  10, 网络14bit - 1, 主机16bit - 2
        * C: 单播, 网络号3byte, 主机号1byte, 110, 网络21bit - 1, 主机 8bit - 2
        * D: 多播
        * E: 保留

* 当某个路由器发现1IP数据报的检验和有差错时, 为什么采取丢弃的办法而不是要求源站重传此数据
    * 地址字段有可能出错, 源站没有缓存
    * 数据报每次经过路由器都要计算检验和, CRC除法计算复杂

## 传输层

* UDP数据报首部(8byte) === 源端口(2byte) + 目的端口(2byte) + 用户数据报长度(2byte) + 检验和字段(2byte)

## 应用层 

* 域名系统的主要功能, 域名系统中的本地域名服务器, 根域名服务器, 顶级域名服务器, 权限域名服务器区别
    * 主要功能: 域名 -> IP地址
    * 本地域名服务器: 当1个主机发出DNS查询请求时, 这个查询请求报文就发送给本地域名服务器
    * 根域名服务器: 层次最高的域名服务器; 所有的根域名服务器都知道所有的顶级域名服务器的域名和IP地址
    * 顶级域名服务器: 管理所有在该顶级域名服务器注册的2级域名
    * 权限域名服务器: 负责1个区的域名服务器; 当1个权限域名服务器还不能给出最后的查询回答时,
        就会告诉发出查询请求的DNS用户, 下1步应该找哪1个权限域名服务器

* 举例说明域名转换的过程, 域名服务器中的高速缓存有什么用?
    * 主机m.xyz.com查询n.abc.com的IP地址
        * 向本地域名服务器dns.xyz.com进行递归查询
        * 本地域名服务器使用迭代查询, 向1个根域名服务器进行查询
        * 根域名服务器告诉本地域名服务器, 下次应该查询的顶级域名服务器dns.com的IP地址
        * 本地域名服务器向顶级域名服务器
        * 顶级域名服务器告诉本地域名服务器下次应该查询的权限域名服务器dns.abc.com的IP地址
        * 本地域名服务器向权限域名服务器查询目的主机的IP地址
        * 权限域名服务器告诉本地域名服务器所查询主机的IP地址
        * 本地域名服务器把查询结果告知主机
    * 高速缓存用来存放最近查询过的域名以及从何处获得域名映射信息的记录
    * 提高DNS查询的效率, 减轻域名服务器的负荷, 减少因特网上的DNS查询报文的数量

* 文件传输协议FTP的主要工作过程, 带外传送控制信息, 主进程和从属进程各起什么作用?
    * 主要工作过程
        * 客户端和服务器建立2个并行的TCP连接: 控制连接, 数据连接
        * 控制连接在整个会话期保持打开, FTP客户机发出的传送请求, 通过控制连接发送给服务器端的控制进程, 但控制进程不负责传输文件
        * 服务器端的控制进程在收到FTP客户发送来的文件传输请求后就创建"数据传送进程"和数据连接, 用来连接客户机端和服务器端的数据传送进程
        * 数据传送进程实际完成文件的传送, 在传送完毕后关闭"数据传送连接", 并结束运行
    * 带外传送控制信息: 由于FTP使用了1个分离的控制连接, 因此FTP的控制信息是带外传送的;
        使用2个独立连接的好处是使协议更简单容易实现, 同时在传输文件的时候还可以利用控制连接
    * 主进程: 接收新的请求
    * 从属进程: 处理单个请求

* 电子邮件最主要的组成部件, 用户代理UA的作用, 能不能没有UA
    * 组成部件: 用户代理, 邮件服务器, 邮件发送协议, 邮件读取协议
    * UA
        * 用户与电子邮件的接口, 用户PC机中运行的程序
        * 为用户提供友好接口来发送和接收邮件
        * 功能: 撰写, 显示, 处理, 通信
    * 不行: 并非所有的计算机都能运行邮件服务器程序, 邮件服务器程序必须不间断运行, 所以不能让用户机运行邮件服务器, 所以让来信暂存在ISP中, 用户通过UA随时取用比较合理

* 物理层
    * 机械特性, 电气特性, 功能特性, 过程特性
    * 奈氏定理: $ 2 带宽 \log{V} $
    * 香农定理: $ 带宽 \log{1 + 信号功率 / 噪声功率} $
    * 信噪比: $ 10 \lg{信号功率 / 噪声功率} dB $
    * 提高带宽和信噪比
    * 频分, 时分, 波分, 码分
    * 双绞线, 同轴线缆, 光缆

* IP数据报固定首部长度 === 20byte
* 位偏移字段长度 === 8bit
* 偏移字段值 === x(长度, 最大1500) / 8
* UDP首部长度 === 8byte
* UDP首部(8) = 源端口(2) + 目的端口(2) + 数据报总长度(2) + 检验和(2)
* 服务器使用端口号: 熟知端口号和登记端口号 0 ~ 1023, 1024 ~  49151
* 客户端使用端口号: 短暂端口号49152 ~ 65535
* TCP首部(20) = 源端口 + 目的端口 + 序号 + 确认号 + 数据偏移 + 保留 + 6bit + 窗口 + 检验和 + 紧急指针 + 选项 + 填充


* 功能
    * 物理层
    * 数据链路层
        * 帧定界
        * 链路管理
        * 流量控制
        * 差错控制
    * 网络层
    * 运输层
    * 应用层

## 计算机网络体系结构

### 计算机网络概述

* 计算机网络的概念
    * 广义观点
    * 资源共享观点
    * 用户透明观点

* 计算机网络的组成
    * 组成部分: 硬件, 软件, 协议
    * 工作方式
        * 边缘部分: 主机
        * 核心部分: 网络和路由器
    * 功能组成
        * 通信子网
            * 传输介质, 通信设备, 网络协议
            * 实现联网计算机之间的数据通信
        * 资源子网
            * 设备, 软件
            * 实现资源共享

* 计算机网络的功能
    * 数据通信
    * 资源共享: 软件, 数据, 硬件
    * 分布式处理
    * 提高可靠性
    * 负载均衡

* 计算机网络的分类
    * 分布范围: 广域网, 城域网, 局域网, 个人局域网
    * 传输技术:
        * 广播式网络: 局域网, 广域网部分
        * 点对点网络: 广域网
    * 拓扑结构:
        * 总线形
            * 局域网
            * [x] 容易, 节省
            * [ ] 重负载通信效率不高, 总线故障敏感
        * 星形
            * 局域网
            * [x] 便于集中控制和管理
            * [ ] 成本高, 中心结点故障明显
        * 环形
            * 局域网(令牌环局域网)
        * 网状形
            * 广域网
            * [x] 可靠
            * [ ] 复杂, 线路成本高
    * 交换技术
        * 电路交换网络
            * 源结点和目的结点之间建立专用通路用于传送数据
            * 建立连接, 传输数据, 断开连接
            * 电话网络
            * [x] 时延小
            * [ ] 线路利用率低, 不便差错控制
        * 报文交换网络
            * 报文: 用户数据加上源地址, 目的地址, 校验码等辅助信息
            * 转发传送整个报文到相邻结点
            * 存储-转发网络
            * [x] 较充分利用线路
            * [x] 实现不同链路之间的数据率的转换
            * [x] 实现格式转换
            * [x] 实现1VSn, nVS1的访问
            * [x] 实现差错控制
            * [ ] 增加资源开销
            * [ ] 增加缓冲时延
            * [ ] 需要额外的控制机制保证多个报文的顺序不乱序
            * [ ] 缓冲区难以管理
        * 分组交换网络
            * 包: 将数据分为较短的固定长度的数据块, 在每个数据块中加上目的地址, 源地址等辅助信息
            * 存储-转发
            * [x] 报文交换网络的优点
            * [x] 缓冲易于管理
            * [x] 包的平均时延更小
            * [x] 网络占用的平均缓冲区更小
            * [x] 更易于标准化
            * [x] 更适合应用
    * 传输介质: 有线, 无线

* 计算机网络的标准化工作及相关组织

* 计算机网络的性能指标
    * 带宽
        * 网络通信线路传送数据的能力
        * 数字信道所能传送的最高数据率
        * b/s
    * 时延
        * 发送时延
            * 第1个bite开始发送的时间到最后1个bite发送完成的时间
            * 发送时延 = 分组长度 / 信道宽度
        * 传播时延
            * 1个bite从链路的1端传播到另1端所需的时间
            * 传播时延= 信道长度 / 电磁波在信道上传播的速率
        * 处理时延: 数据在交换结点为存储转发而进行的一些必要处理所花费的时间
        * 排队时延: 排队等待处理的时间
    * 时延带宽积
        * 发送端发送的第1个bite即将到达终点时, 发送端已经发送了多少个bite
        * 以bite为单位的链路长度, 管道可以容纳bite的数量
        * 时延带宽积 = 传播时延 * 信道带宽
    * 往返时延: 来回的总时间
    * 吞吐量: 单位时间内通过某个网络(或信道, 接口)的数据量
    * 数据率
        * 连接到计算机网络上的主机在数字信道上传送数据的速率
        * b/s bps
        * 带宽 = max(数据率)
    * 信道利用率 = 有数据通过的时间 / 总时间

### 计算机网络体系结构与参考模型

* 计算机网络分层结构
    * 分层原则
        * 每层都实现1中相对独立的功能, 降低大系统的复杂度
        * 各层之间界面自然清晰, 易于理解, 相互的交流尽可能少
        * 各层功能的精确定义独立于具体的实现方法, 可以采用最合适的技术来实现
        * 保持下层堆上层的独立性, 上层单向使用下层提供的服务
        * 整个分层结构应该能促进标准化工作
    * 对等实体: 同1层的实体

* 计算机网络协议, 接口, 服务的概念
    * 协议
        * 为进行网络中的数据交换而建立的规则, 标准或约定
        * 控制2个对等实体进行通信的规则的集合
        * 组成部分
            * 语法: 传输数据的格式
            * 语义: 所要完成的功能
            * 同步: 执行各种操作的条件, 时序关系等
    * 接口: 同一结点内相邻2层间交换信息的交换点
    * 服务
        * 下层为紧邻的上层提供的功能调用
        * 分类
            * 面向连接服务, 无连接服务
            * 可靠服务, 不可靠服务
            * 有应答服务, 无应答服务

## 物理层

### 通信基础

* 基本概念
    * 数据, 信号, 码元
        * 数据: 传送信息的实体
        * 信号
            * 数据的电气或电磁表现
            * 数据在传输过程中的存在形式
        * 码元
            * 固定时长的信号波形(数字脉冲)表示1为k进制数字, 代表不同离散数值的基本波形
            * 数字通信中数字信号的基本计量单位
            * 时长内信号: k进制码元
            * 时长: 码元
    * 信源, 信道, 信宿
        * 信源: 产生和发送数据的源头
        * 信道: 信号传输的媒介, 发送信道和接收信道
            * 传输信号形式: 模拟信号信道, 数字信号信道
            * 传输介质: 有线信道, 无线信道
            * 交互方式: 单工通信, 半双工通信, 双工通信
        * 信宿: 接收数据的终点
    * 速率, 波特, 带宽
        * 码元传输速率
            * 单位时间内通信系统所传输的码元个数(脉冲个数, 信号变化次数)
            * bite率 / 每个符号含的bite数
            * Baud
        * 信息传输速率
            * 单位时间内数字通信系统传输的2进制码元个数(bite数)
            * b/s
        * 带宽: 信号具有的频带宽度

* 奈奎斯特定理
    * 理想低通信道下的极限数据传输率 = $ 2W \log{V} $
    * W: 带宽
    * 在任何信道中, 码元传输的速率是有上限的, 若超过, 则出现码间串扰
    * 信道的频带越宽, 就可用更高速率进行码元的有效传输
    * 奈氏准则给出了码元传输速率的限制, 但是并未对信息传输速率(1个码元对应多少个2进制位)给出限制
    * 设法使每个码元携带更多bite的信息量: 多元制的调制方法

* 香农定理
    * 给出了带宽受限且有高斯白噪声干扰的信道的极限数据传输率
    * 信道的极限数据传输率 = $ W\log{(1 + S / N)} $
        * W: 信道的带宽
        * S: 信道所传输信号的平均功率
        * N: 信道内部的高斯噪声功率
        * S / N: 信噪比
            * 信号的平均功率与噪声的平均功率之比
            * 信噪比 = $ 10 \lg{S / N} $ dB
    * 信道的带宽或信道中的信噪比越大, 信息的极限传输速率越高
    * 对一定的传输带宽和一定的信噪比, 信息传输速率的上限是确定的
    * 只要信息的传输速率低于信道的极限传输速率, 就能找到某种方法来实现无差错的传输
    * 香农定理得出的是极限信息传输速率, 实际信道能达到的传输速率要比它低

* 编码与调制
    * 数字数据编码为数字信号
        * 归零编码: 时钟周期之间信号翻转
        * 非归零编码: 时钟周期边缘信号翻转
        * 反向非归零编码: 时钟周期边缘翻转信号代表0, 保持不变代表1
        * 曼彻斯特编码: 前高后低 === 1, 前低后高 === 0
        * 差分曼彻斯特编码: n + 1码元前与n码元后不变 === 1, n + 1码元前与n码元后改变 === 0
    * 数字数据调制为模拟信号
        * 符移键控
            * 通过改变载波信号的振幅来表示数字信号的1和0
            * [x] 容易实现
            * [ ] 抗干扰能力差
        * 频移键控
            * 通过改变载波信号的频率来表示数字信号的1和0
            * [x] 容易实现
            * [ ] 抗干扰能力强
        * 相移键控
            * 通过改变载波信号的相位来表示数字信号的1和0
            * 绝对调相, 相对调相
        * 正交振幅调制
            * 在频率相同的前提下, 将符移键控和频移键控结合起来, 形成叠加信号
            * R = $ B \log{mn} $ b/s
                * R: 数据传输率
                * B: 波特率
                * m: 相位个数
                * n: 振幅种类数
    * 模拟数据编码为数字信号
        * 脉码调制: 音频信号进行编码
        * 采样, 量化, 编码
    * 模拟数据调制为模拟信号

* 电路交换, 报文交换, 分组交换
    * 电路交换
        * [x] 通信延时小, 有序传输, 没有冲突, 使用范围广, 实时性强, 控制简单
        * [ ] 建立连接时间长, 线路独占, 灵活性差, 难以规格化
    * 报文交换
        * [x] 无须建立连接, 动态分配线路, 提高线路可靠性, 提高线路利用率, 提供多目标服务
        * [ ] 转发时延, 网络结点要缓存空间
    * 分组交换
        * [x] 无建立时延, 线路利用率高, 简化了存储管理, 加速传输, 减少了出错概率和重发数据量
        * [ ] 存在传输时延, 需要传输额外的信息量, 当分组交换采用数据报服务时, 可能会出现失序, 丢失, 重复分组; 当分组交换采用虚电路服务时, 需要呼叫建立, 数据传输, 虚电路释放3个过程

* 数据报与虚电路
    * 数据报
    * 虚电路

### 传输介质

* 双绞线, 同轴电缆, 光纤, 无线传输介质
    * 双绞线
        * 无屏蔽双绞线, 屏蔽双绞线
        * 局域网, 传统电话网
    * 同轴电缆
    * 光纤
    * 无线传输介质
        * 无线电波
        * 微波, 红外线, 激光

* 物理接口的特性
    * 机械特性
    * 电气特性
    * 功能特性
    * 规程特性

### 物理层设备

* 中继器
    * 转发器
    * 放大数字信号: 将衰减的信号整形再生

* 集线器
    * 多端口的中继器

## 数据链路层

### 数据链路层的功能

* 为网络层提供服务
    * 无确认的无连接服务
        * 不建连接, 不发确认, 不重传
        * 实时通信或误码率较低的通信
    * 有确认的无连接服务
        * 源机器在所规定的时间内未收到确定信号时, 就重传丢失的帧
        * 误码率较高, 无线通信
    * 有确认的面向连接服务
        * 建立数据链路, 传输帧, 释放数据链路
        * 每1帧都确认, 收到确认后再发下1帧
        * 通信要求较高

* 链路管理

* 帧定界, 帧同步, 透明传输

* 流量控制: 发送方跟随接收方的速度

* 差错控制

### 组帧

* [ ] 字符计数法: 帧头部使用1个计数字段来表明帧内字符数

* [ ] 字符填充的首尾定界字符法
    * 使用特定的字符来定界1帧的开始和结束
    * 帧内添加转义字符

* [x] 0bite填充的首尾标志法
    * 使用0111 1110来标志1帧的开始和结束
    * 帧内0111, 11时变为0111, 110

* [x] 违规编码法

### 差错控制

* 检错编码
    * 奇偶校验码
        * 添加冗余位使得码字中'1'的个数 === 奇数或偶数
        * 奇校验码: 添加校验码后, 码字中的'1'个数是奇数
        * 偶校验码: 添加校验码后, 码字中的'1'个数是偶数
    * 循环冗余码
    * 纠错编码

### 流量控制与可靠传输机制

* 流量控制, 可靠传输, 滑动窗口机制
    * 停止-等待流量控制基本原理
    * 滑动窗口流量控制基本原理
        * 发送方和接收方各维护1个窗口
        * 发送方不会发送发送窗口以外的帧
        * 接收方不会接收接收窗口以外的帧
        * 发送方收到接收方的确认后将窗口滑动1帧
        * 停止-等待协议: 发送窗口 === 1 && 接收窗口 === 1
        * 选择重传协议: 发送窗口 > 1 && 接收窗口 > 1
        * 后退N帧协议: 发送窗口 > 1 && 接收窗口 === 1
        * 接收窗口 === 1时可以保证帧有序接收
    * 可靠传输机制
        * 确认, 捎带确认
        * 超时重传

* 单帧滑动窗口与停止-等待协议

* 多帧滑动窗口与后退N帧协议

* 多帧滑动窗口与选择重传协议

### 介质访问控制

* 信道划分介质访问控制
    * 多个输入 -(多路复用器)> 1条链路, 多个信道 -(多路复用器)> 多个输出
    * 频分多路复用: 叠加形成1个复合信号, 不能超过信道的总带宽, 保护频带
    * 时分多路复用
    * 波分多路复用: 1根光纤中传输多种不同波长的光信号
    * 码分多路复用: 不同编码区分各路信号

* CSMA/CD协议
    * 先听后发, 边听边发
    * 主机--适配器---信道---适配器--主机
    * 适配器检测到信道空闲就会发送
    * 适配器在传送过程中收到信号就停止传输正在传输的帧, 传输48bite的拥塞信号
    * 半双工通信
    * 收到小于最小帧长的帧就丢弃
        * 最小帧长 = 总线传播时延 * 数据传输率 * 2
