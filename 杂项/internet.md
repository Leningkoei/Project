#   internet
##  计算机网络体系结构
### 计算机网络概述
***
-   计算机网络可被理解为
        <u>由自治计算机互联起来的集合体</u>
        ;
    -   自治计算机;
    -   互联;
    -   集合体;
-   计算机网络的最基本功能是
        <u>数据通信</u>
        ;
    -   功能:
        -   数据通信; -- 最基本功能;
        -   资源共享;
        -   分布式处理;
        -   信息综合处理;
        -   负载均衡;
        -   提高可靠性;
-   计算机网络系统的基本组成是
        <u>通信子网和资源子网</u>
        ;
-   在计算机网络中必须有的是
        <u>客户机, 服务器, 操作系统</u>
        ;
-   计算机网络的资源主要是指
        <u>硬件资源, 软件资源, 数据资源</u>
        ;
-   计算机网络可分为通信子网和资源子网;
        <u>网桥, 交换机, 路由器</u>
        属于通信子网;
        <u>计算机软件</u>
        属于资源子网;
-   计算机网络划分广域网, 城域网, 局域网的依据是
        <u>网络的作用范围</u>
        ;
    -   分布范围: 广域网, 城域网, 局域网, 个人局域网;
    -   拓扑结构: 星形网络, 总线形网络, 环形网络, 网状形网络;
    -   传输技术: 广播式网络, 点对点网络;
    -   使用者: 公用网, 专用网;
    -   数据交换技术: 电路交换网, 报文交换网, 分组交换网;
-   局域网和广域网的差异不仅在于它们所覆盖的范围不同, 还主要在于它们
        <u>所使用的协议不同</u>
        ;
    -   网络类型|协议和网络技术
        -|-
        广域网|点对点等技术
        局域网|广播技术
-   <u>局域网是基于广播技术发展起来的网络, 广域网是基于交换技术发展起来的网络</u>
        ;
-   局域网与广域网通过
        <u>路由器</u>
        互联;
-   计算机网络拓扑结构主要取决于它的
        <u>通信子网</u>
        ;
    -   拓扑结构主要是指通信子网的拓扑结构;
    -   通信子网包括物理层, 数据链路层, 网络层;
    -   元件|层次结构
        -|-
        集线器|物理层
        交换机|数据链路层
        路由器|网络层
-   广域网的拓扑结构通常采用
        <u>网状形</u>
        ;
-   在 $n$ 个节点的星形拓扑结构中, 有
        <u>$n - 1$</u>
        条物理链路;
-   广播式网络:
        <u>共享广播信道, 不存在路由选择问题, 可以不要网络层, 不需要服务访问点</u>
        ;
    -   广播式网络共享广播信道(如总线),
            通常是局域网的1种通信方式(局域网工作在数据链路层),
            因此不需要网络层,
            因而也不存在路由选择问题,
            但数据链路层使用物理层的服务必须通过服务访问点实现;
-   <u>附加信息开销大</u>
        是分组交换网络的缺点;
    -   信道利用率高;
    -   传送数据的总开销较多;
-   1968年6月, 世界上出现最早的计算机网络是
        <u>ARPAnet</u>
        ;
-   ***
-   有1个通讯协议,
        每个分组都引入 100 * byte 的开销用于头和成帧;
        现在使用这个协议发送 $10 ^ 6 * byte$ 的数据,
        然而在传送的过程中有 1 个 byte 被破坏,
        因而包含该字节的那个分组被丢弃;
        试对于 1000 * byte 和 20000 * byte 的分组的有效数据大小分别计算
        "开销 + 丢失" byte的总数目;
        分组数据大小的最佳值是多少?
    -   分组 == D:
        $$ {分组数量} = {10 ^ 6 * byte \over D} $$
        $$ {开销} =
                {100 * byte * {分组数量}} =
                {100 * byte * 10 ^ 6 * byte \over D} =
                {10 ^ 8 * byte ^ 2 \over D}
            $$
        $$ {丢弃} = {D} $$
        $$ {开销 + 丢弃} =
                {10 ^ 8 * byte ^ 2 \over D + D} =
                {10 ^ 8 * byte ^ 2 + D ^ 2 \over D}
            $$
    -   分组 == 1000 * byte:
        $$ {开销 + 丢弃} =
                {10 ^ 8 * byte ^ 2 + 1000000 * byte ^ 2 \over 1000 * byte} =
                {{101000000 \over 1000} * byte} =
                {101000 * byte}
            $$
    -   分组 == 20000 * byte:
        $$ {开销 + 丢弃} =
                {10 ^ 8 * byte ^ 2 + 400000000 * byte ^ 2 \over 20000 * byte} =
                {{5 * 10 ^ 8 \over 20000} * byte} =
                {2.5 * 10 ^ 4 * byte}
            $$
-   考虑1个最大距离为 2 * km 的局域网,
        当带宽等于多大时,
        传播延时(传播速率为 $2 * 10 ^ 8 * m/s$ )等于 100 B 分组的发送延时,
        对于 512 * B 分组的结果又当如何?
    -   $$ {传播时延} = {信道长度 \over 电磁波传播速率} $$
    -   $$ {发送时延} = {数据长度 \over 带宽} $$
    -   分组 == 100 * B:
        $$ {传播时延} = {2000 * m \over 2 * 10 ^ 8 * m/s} = 1 * 10 ^ -5 * s $$
        $$ {发送时延} = {100 * B \over 带宽} $$
        $$ {传播时延} == {发送时延} $$
        $$ {1 * 10 ^ -5 * s} == {100 * B \over 带宽} $$
        $$ {带宽} == {100 * B \over 1 * 10 ^ -5 * s} $$
        $$ {带宽} == {1 * 10 ^ 7 * B/s} $$
    -   分组 == 512 * B:
        $$ {传播时延} = {2000 * m \over 2 * 10 ^ 8 * m/s} = 1 * 10 ^ -5 * s $$
        $$ {发送时延} = {512 * B \over 带宽} $$
        $$ {传播时延} == {发送时延} $$
        $$ {1 * 10 ^ -5 * s} == {512 * B \over 带宽} $$
        $$ {带宽} == {512 * B \over 1 * 10 ^ -5 * s} $$
        $$ {带宽} == {5.12 * 10 ^ 7 * B/s} $$
-   在2台计算机之间传输1个文件有2种可行的确认策略;
        第1种策略把文件截成分组, 接收方逐个确认分组,
        但就整体而言, 文件没有得到确认;
        第2种策略不确认单个分组,
        但当文件全部收到后, 对整个文件予以确认;
        请讨论这2种方式的优缺点;
    -   如果网络容易丢失分组, 那么对每个分组逐一进行确认比较好, 此时仅重传丢失的分组;
    -   另1方面, 如果网络高度可靠, 那么在不发生差错的情况下,
            仅在整个文件传送的结尾发送1次确认, 从而减少了确认次数, 节省了带宽,
            不过, 即使只有单个分组丢失, 也要重传整个文件;
-   试在下列条件下比较电路交换和分组交换:<br>
        要传送的报文共 x * bit;<br>
        从源点到终点共经过 k 段链路;<br>
        每段链路的传播时延为 d * s;<br>
        数据传输速率为 b * bit / s;<br>
        在电路交换时电路的建立时间 S * s;<br>
        在分组交换时分组长度为 p * bit<br>
        各节点的排队等待时间可以忽略不计;<br>
        问: 在怎样的条件下, 分组交换的时延比电路交换的时延要小?
    -   电路交换的时延:
        $$ {电路交换时延} = {连接时延} + {发送时延} + {传播时延} $$
        $$ {连接时延} = {S * s} $$
        $$ {发送时延} = {x * bit \over b * bit / s} = {{x \over b} * s} $$
        $$ {传播时延} = {k * d * s} $$
        $$ {电路交换时延} = {(S + {x \over b} + k * d) * s} $$
    -   分组交换的时延:
        $$ {分组交换时延} = {发送时延} + {传播时延} $$
        $$ {发送时延} =
                {分组数量 * 发送时延 + (链路数量 - 1) * 发送时延} =
                {(分组数量 + 链路数量 - 1) * 发送时延} =
                {(分组数量 + k - 1) * {p * bit \over b * bit / s}} =
                {(分组数量 + k - 1) * {p \over b} * s}
            $$
        $$ {传播时延} = {链路数量 * 每段链路的传播时延} = k * d * s $$
        $$ {分组交换时延} = {((分组数量 + k - 1) * {p \over b} + k * d) * s} $$
    -   电路交换时延 > 分组交换时延:
        $$ {S + {x \over b} + k * d} >
                {(分组数量 + k - 1) * {p \over b} + k * d}
            $$
        $$ {S + {x \over b}} > {(分组数量 + k - 1) * {p \over b}} $$
        $$ {{S * b \over p} + {x \over p}} > {分组数量 + k - 1} $$
        $$ {分组数量} < {{S * b \over p} + {x \over p} - k + 1} $$
-   在上题的分组交换网中,
        设报文长度和分组长度分别为 x 和 (p + h) * bit,
        其中 p 为分组的数据部分的长度,
        而 h 为每个分组所带控制信息 r 固定长度, 与 p 的大小无关;
        通信的2端共经过 k 段链路;
        链路的数据传输速率为 b * bit / s,
        传播时延, 结点的排队时延和处理时延均可以忽略不计;
        若想要使总的时延为最小,
        问分组的数据部分长度 p 应该取多大?
